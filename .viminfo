# This viminfo file was generated by Vim 9.1.
# You may edit it if you're careful!

# Viminfo version
|1,4

# Value of 'encoding' when this file was written
*encoding=utf-8


# hlsearch on (H) or off (h):
~h
# Command Line History (newest to oldest):
:wq
|2,0,1762277049,,"wq"

# Search String History (newest to oldest):

# Expression History (newest to oldest):

# Input Line History (newest to oldest):

# Debug Line History (newest to oldest):

# Registers:
""1	LINE	0
	targetScope = 'resourceGroup'
	
	@description('Environment name')
	@allowed([
	  'dev'
	  'prod'
	])
	param environment string
	
	@description('Azure region')
	param location string = resourceGroup().location
	
	@description('Storage account name suffix')
	param storageNameSuffix string
	
	@description('Admin Object ID for Key Vault')
	param adminObjectId string
	
	@description('VNet address prefix')
	param vnetAddressPrefix string = '10.0.0.0/16'
	
	@description('Trusted subnet prefix')
	param trustedSubnetPrefix string = '10.0.1.0/24'
	
	@description('Rogue subnet prefix')
	param rogueSubnetPrefix string = '10.0.2.0/24'
	
	@description('Log Analytics retention days')
	param logRetentionDays int = 30
	
	@description('Log Analytics daily cap GB')
	param logDailyQuotaGb int = 1
	
	@description('Enable CMK encryption')
	param enableCMK bool = false
	
	@description('Common resource tags')
	param tags object = {
	  Environment: environment
	  Project: 'ExfiltrationDetection'
	  ManagedBy: 'Bicep'
	}
	
	// Module 1: Network
	module network 'modules/network.bicep' = {
	  name: 'deploy-network-${environment}'
	  params: {
	    environment: environment
	    location: location
	    vnetAddressPrefix: vnetAddressPrefix
|3,1,1,1,50,0,1762276823,"targetScope = 'resourceGroup'","","@description('Environment name')","@allowed([","  'dev'","  'prod'","])","param environment string","","@description('Azure region')","param location string = resourceGroup().location","","@description('Storage account name suffix')","param storageNameSuffix string","","@description('Admin Object ID for Key Vault')","param adminObjectId string","","@description('VNet address prefix')",>48
|<"param vnetAddressPrefix string = '10.0.0.0/16'","","@description('Trusted subnet prefix')","param trustedSubnetPrefix string = '10.0.1.0/24'","","@description('Rogue subnet prefix')","param rogueSubnetPrefix string = '10.0.2.0/24'","","@description('Log Analytics retention days')","param logRetentionDays int = 30","","@description('Log Analytics daily cap GB')","param logDailyQuotaGb int = 1","","@description('Enable CMK encryption')","param enableCMK bool = false","",>38
|<"@description('Common resource tags')","param tags object = {","  Environment: environment","  Project: 'ExfiltrationDetection'","  ManagedBy: 'Bicep'","}","","// Module 1: Network","module network 'modules/network.bicep' = {","  name: 'deploy-network-${environment}'","  params: {","    environment: environment","    location: location","    vnetAddressPrefix: vnetAddressPrefix"
"2	LINE	0
	@description('Environment name')
	param environment string
	
	@description('Azure region')
	param location string = resourceGroup().location
	
	@description('Storage account name suffix (must be globally unique)')
	param storageNameSuffix string
	
	@description('VNet ID for Private Endpoint')
	param vnetId string
	
	@description('Subnet ID for Private Endpoint')
	param subnetId string
	
	@description('Private DNS Zone ID for blob')
	param privateDnsZoneId string
	
	@description('Enable CMK encryption')
	param enableCMK bool = false
	
	@description('Key Vault key ID for CMK (if enabled)')
	param keyVaultKeyId string = ''
	
	@description('Resource tags')
	param tags object = {}
	
	// Storage Account
	resource storageAccount 'Microsoft.Storage/storageAccounts@2023-01-01' = {
	  name: 'stexfil${environment}${storageNameSuffix}'
	  location: location
	  tags: tags
	  sku: {
	    name: 'Standard_LRS'
	  }
	  kind: 'StorageV2'
	  properties: {
	    minimumTlsVersion: 'TLS1_2'
	    allowBlobPublicAccess: false
	    publicNetworkAccess: 'Disabled'
	    networkAcls: {
	      defaultAction: 'Deny'
	      bypass: 'AzureServices'
	    }
	    supportsHttpsTrafficOnly: true
	    encryption: enableCMK ? {
	      identity: {
	        userAssignedIdentity: null
	      }
	      services: {
|3,0,2,1,50,0,1762276747,"@description('Environment name')","param environment string","","@description('Azure region')","param location string = resourceGroup().location","","@description('Storage account name suffix (must be globally unique)')","param storageNameSuffix string","","@description('VNet ID for Private Endpoint')","param vnetId string","","@description('Subnet ID for Private Endpoint')","param subnetId string","",>46
|<"@description('Private DNS Zone ID for blob')","param privateDnsZoneId string","","@description('Enable CMK encryption')","param enableCMK bool = false","","@description('Key Vault key ID for CMK (if enabled)')","param keyVaultKeyId string = ''","","@description('Resource tags')","param tags object = {}","","// Storage Account","resource storageAccount 'Microsoft.Storage/storageAccounts@2023-01-01' = {","  name: 'stexfil${environment}${storageNameSuffix}'","  location: location",>14
|<"  tags: tags","  sku: {","    name: 'Standard_LRS'","  }","  kind: 'StorageV2'","  properties: {","    minimumTlsVersion: 'TLS1_2'","    allowBlobPublicAccess: false","    publicNetworkAccess: 'Disabled'","    networkAcls: {","      defaultAction: 'Deny'","      bypass: 'AzureServices'","    }","    supportsHttpsTrafficOnly: true","    encryption: enableCMK ? {","      identity: {","        userAssignedIdentity: null","      }","      services: {"

# File marks:
'0  116  37  ~/infra/modules/keyvault.bicep
|4,48,116,37,1762277049,"~/infra/modules/keyvault.bicep"
'1  36  0  ~/infra/modules/monitoring.bicep
|4,49,36,0,1762276976,"~/infra/modules/monitoring.bicep"
'2  11  24  ~/infra/prod.bicepparam
|4,50,11,24,1762276887,"~/infra/prod.bicepparam"
'3  6  58  ~/infra/dev.bicepparam
|4,51,6,58,1762276867,"~/infra/dev.bicepparam"
'4  99  49  ~/infra/main.bicep
|4,52,99,49,1762276825,"~/infra/main.bicep"
'5  1  44  ~/infra/main.bicep
|4,53,1,44,1762276798,"~/infra/main.bicep"
'6  108  44  ~/infra/main.bicep
|4,54,108,44,1762276798,"~/infra/main.bicep"
'7  144  61  ~/infra/modules/monitoring.bicep
|4,55,144,61,1762276763,"~/infra/modules/monitoring.bicep"
'8  189  61  ~/infra/modules/monitoring.bicep
|4,56,189,61,1762276763,"~/infra/modules/monitoring.bicep"
'9  133  72  ~/infra/modules/storage.bicep
|4,57,133,72,1762276748,"~/infra/modules/storage.bicep"

# Jumplist (newest first):
-'  116  37  ~/infra/modules/keyvault.bicep
|4,39,116,37,1762277049,"~/infra/modules/keyvault.bicep"
-'  1  0  ~/infra/modules/keyvault.bicep
|4,39,1,0,1762277036,"~/infra/modules/keyvault.bicep"
-'  36  0  ~/infra/modules/monitoring.bicep
|4,39,36,0,1762276976,"~/infra/modules/monitoring.bicep"
-'  36  0  ~/infra/modules/monitoring.bicep
|4,39,36,0,1762276976,"~/infra/modules/monitoring.bicep"
-'  144  61  ~/infra/modules/monitoring.bicep
|4,39,144,61,1762276926,"~/infra/modules/monitoring.bicep"
-'  144  61  ~/infra/modules/monitoring.bicep
|4,39,144,61,1762276926,"~/infra/modules/monitoring.bicep"
-'  11  24  ~/infra/prod.bicepparam
|4,39,11,24,1762276887,"~/infra/prod.bicepparam"
-'  11  24  ~/infra/prod.bicepparam
|4,39,11,24,1762276887,"~/infra/prod.bicepparam"
-'  11  24  ~/infra/prod.bicepparam
|4,39,11,24,1762276887,"~/infra/prod.bicepparam"
-'  11  24  ~/infra/prod.bicepparam
|4,39,11,24,1762276887,"~/infra/prod.bicepparam"
-'  1  0  ~/infra/prod.bicepparam
|4,39,1,0,1762276886,"~/infra/prod.bicepparam"
-'  1  0  ~/infra/prod.bicepparam
|4,39,1,0,1762276886,"~/infra/prod.bicepparam"
-'  1  0  ~/infra/prod.bicepparam
|4,39,1,0,1762276886,"~/infra/prod.bicepparam"
-'  1  0  ~/infra/prod.bicepparam
|4,39,1,0,1762276886,"~/infra/prod.bicepparam"
-'  6  58  ~/infra/dev.bicepparam
|4,39,6,58,1762276867,"~/infra/dev.bicepparam"
-'  6  58  ~/infra/dev.bicepparam
|4,39,6,58,1762276867,"~/infra/dev.bicepparam"
-'  6  58  ~/infra/dev.bicepparam
|4,39,6,58,1762276867,"~/infra/dev.bicepparam"
-'  6  58  ~/infra/dev.bicepparam
|4,39,6,58,1762276867,"~/infra/dev.bicepparam"
-'  6  58  ~/infra/dev.bicepparam
|4,39,6,58,1762276867,"~/infra/dev.bicepparam"
-'  6  58  ~/infra/dev.bicepparam
|4,39,6,58,1762276867,"~/infra/dev.bicepparam"
-'  6  58  ~/infra/dev.bicepparam
|4,39,6,58,1762276867,"~/infra/dev.bicepparam"
-'  6  58  ~/infra/dev.bicepparam
|4,39,6,58,1762276867,"~/infra/dev.bicepparam"
-'  1  0  ~/infra/dev.bicepparam
|4,39,1,0,1762276851,"~/infra/dev.bicepparam"
-'  1  0  ~/infra/dev.bicepparam
|4,39,1,0,1762276851,"~/infra/dev.bicepparam"
-'  1  0  ~/infra/dev.bicepparam
|4,39,1,0,1762276851,"~/infra/dev.bicepparam"
-'  1  0  ~/infra/dev.bicepparam
|4,39,1,0,1762276851,"~/infra/dev.bicepparam"
-'  1  0  ~/infra/dev.bicepparam
|4,39,1,0,1762276851,"~/infra/dev.bicepparam"
-'  1  0  ~/infra/dev.bicepparam
|4,39,1,0,1762276851,"~/infra/dev.bicepparam"
-'  1  0  ~/infra/dev.bicepparam
|4,39,1,0,1762276851,"~/infra/dev.bicepparam"
-'  1  0  ~/infra/dev.bicepparam
|4,39,1,0,1762276851,"~/infra/dev.bicepparam"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  99  49  ~/infra/main.bicep
|4,39,99,49,1762276825,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276823,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  108  44  ~/infra/main.bicep
|4,39,108,44,1762276798,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  1  0  ~/infra/main.bicep
|4,39,1,0,1762276787,"~/infra/main.bicep"
-'  189  61  ~/infra/modules/monitoring.bicep
|4,39,189,61,1762276763,"~/infra/modules/monitoring.bicep"
-'  189  61  ~/infra/modules/monitoring.bicep
|4,39,189,61,1762276763,"~/infra/modules/monitoring.bicep"
-'  189  61  ~/infra/modules/monitoring.bicep
|4,39,189,61,1762276763,"~/infra/modules/monitoring.bicep"
-'  189  61  ~/infra/modules/monitoring.bicep
|4,39,189,61,1762276763,"~/infra/modules/monitoring.bicep"
-'  189  61  ~/infra/modules/monitoring.bicep
|4,39,189,61,1762276763,"~/infra/modules/monitoring.bicep"
-'  189  61  ~/infra/modules/monitoring.bicep
|4,39,189,61,1762276763,"~/infra/modules/monitoring.bicep"

# History of marks within files (newest to oldest):

> ~/infra/modules/keyvault.bicep
	*	1762277048	0
	"	116	37
	^	116	38
	.	116	37
	+	116	37

> ~/infra/modules/monitoring.bicep
	*	1762276976	0
	"	36	0
	^	36	0
	.	37	0
	+	144	61
	+	37	0

> ~/infra/prod.bicepparam
	*	1762276886	0
	"	11	24
	^	11	25
	.	11	24
	+	11	24

> ~/infra/dev.bicepparam
	*	1762276867	0
	"	6	58
	^	6	59
	.	6	58
	+	11	24
	+	6	58

> ~/infra/main.bicep
	*	1762276824	0
	"	99	49
	^	99	50
	.	99	49
	+	1	29
	+	99	49

> ~/infra/modules/storage.bicep
	*	1762276748	0
	"	133	72
	^	133	73
	.	133	72
	+	1	32
	+	133	72

> ~/infra/modules/network.bicep
	*	1762276707	0
	"	78	53
	^	78	54
	.	78	53
	+	78	53

> ~/.github/workflows/deploy-dev.yml
	*	1762275324	0
	"	56	37
	^	56	38
	.	56	37
	+	56	37

> ~/.github/workflows/validate.yml
	*	1762275309	0
	"	69	14
	^	69	15
	.	69	14
	+	69	14
